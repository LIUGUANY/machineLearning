window.onload=function(){menu("pai-test-box");menu("pai-menu-list");menu("pai-bpmn-left");tab("dms-prop-tab","dms-chart-box");tab("selected-tab","right_wrap");tab("selected-tab","wrap-right-wrap");tab("dms-field-tab","dms-field-box");tab("dms-PerformTuning-tab","dms-PerformTuning-box");tab("dms-argumentTune-tab","dms-argumentTune-box");tab("dms-setTuning-tab","dms-setTuning-box");navTab("btn-home-page");navTab("btn-module");designation()};function menu(b){var c=$("."+b);switch(b){case"pai-test-box":$(c).on("click",function(){$(this).nextAll("dl").is(":hidden")?$(this).nextAll("dl").show():$(this).nextAll("dl").hide();$(this).nextAll("dl").is(":hidden")?$(this).find("i").addClass("active"):$(this).find("i").removeClass("active")});break;case"pai-bpmn-left":var d=$(c).find(".box");d.on("click",function(){$(this).nextAll("ul").is(":hidden")?$(this).nextAll("ul").show():$(this).nextAll("ul").hide();$(this).nextAll("ul").is(":hidden")?$(this).removeClass("is-opened"):$(this).addClass("is-opened")});break;default:break}}function tab(e,c){var d=$("."+e+" li");var f=$("."+c+" .dms-prop-page");d.on("click",function(){var a=$(this).index();$(this).hasClass("selected")?$(this).attr("class","selected"):$(this).addClass("selected").siblings("li").removeClass("selected");f.eq(a).show().siblings(".dms-prop-page").hide()})}function workArea(a){var f=$("#container .model"),e=$("."+a)[0].style;var d=$(".removeElement");var c=$(".btn-execute-begin");e.display="none";f.on("contextmenu",function(b){var b=b||window.event;var g=$(this);e.display="block";e.top=b.clientY+"px";e.left=b.clientX+"px";d.unbind("click").on("click",function(){removeElement(g);e.display="none"});c.unbind("click").on("click",function(){g.find(".status").attr("class","status icon-loading");e.display="none"});return false});$("."+a+" .ui-context-menu-item").on("click",function(){e.display="none"});$("body").on("click",function(){e.display="none"})}function navTab(b){switch(b){case"btn-home-page":$("."+b).on("click",function(a){a.stopPropagation();$(".pai-home").animate({bottom:0},0)});break;case"btn-module":$("."+b).on("click",function(a){a.stopPropagation();$(".pai-home").animate({bottom:"100%"},0)});break}}function designation(){var a=$(".pai-bpmn-left .text");var b=$(".pai-bpmn-left .pai-dropdown li");b.on("click",function(){if($(this).hasClass("selected")){return}else{$(this).addClass("selected").siblings("li").removeClass("selected")}var c=$(this).find(".text-item").text();a.html(c)})}var modelCounter=0;var instance=jsPlumb.getInstance({DragOptions:{cursor:"pointer",zIndex:2000},PaintStyle:{strokeStyle:"#666"},EndpointStyle:{width:20,height:16,strokeStyle:"#666"},Endpoint:"Rectangle",Anchors:["TopCenter"],ConnectionOverlays:[["Arrow",{location:1,visible:true,width:11,length:11,direction:1,id:"arrow_forwards"}],["Arrow",{location:1,visible:false,width:11,length:11,direction:-1,id:"arrow_backwards"}],["Label",{location:0.5,id:"label",cssClass:"aLabel"}]],Container:"container"});instance.importDefaults({ConnectionsDetachable:true,ReattachConnections:true});function setLeftMenu(){$("#leftMenu dd").draggable({helper:"clone",scope:"plant"});$("#container").droppable({scope:"plant",drop:function(a,b){CreateModel(b,$(this))}})}var elementSign=0;function CreateModel(h,c){elementSign++;var l=$(h.draggable).attr("id");var a="model_"+modelCounter++;var e=$(h.draggable).find(".element-default span:last-child").text();$(c).append('<div  class="item model pane-node-content" id="'+a+'"><span class="icon icon-doc"></span><span class="name">'+$(h.helper).html()+'</span><span  class="status icon-success"></span></div>');var b=parseInt(h.offset.left-$(c).offset().left);var g=parseInt(h.offset.top-$(c).offset().top);$("#"+a).css("position","absolute").css("left",b).css("top",g);instance.addEndpoint(a,{anchors:"RightMiddle"},hollowCircle);instance.addEndpoint(a,{anchors:"LeftMiddle"},hollowCircle);instance.addEndpoint(a,{anchors:"TopCenter"},hollowCircle);instance.addEndpoint(a,{anchors:"BottomCenter"},hollowCircle);$("#"+a).draggable({containment:"parent",drag:function(o,p){instance.repaintEverything()},stop:function(){instance.repaintEverything()}});workArea("ui-workarea-menu-layer");var n=$("#model_0"),m=$("#model_1"),k=$("#model_2"),j=$("#model_3"),i=$("#model_4"),f=$("#model_5"),d=$("#model_6");n.on("click",function(){$(".dms-prop-wrap").hide();$(".model_0_box").show()});m.on("click",function(){$(".dms-prop-wrap").hide();$(".model_1_box").show()});k.on("click",function(){$(".dms-prop-wrap").hide();$(".model_2_box").show()});j.on("click",function(){$(".dms-prop-wrap").hide();$(".model_3_box").show()});i.on("click",function(){$(".dms-prop-wrap").hide();$(".model_4_box").show()});f.on("click",function(){$(".dms-prop-wrap").hide();$(".model_5_box").show()});d.on("click",function(){$(".dms-prop-wrap").hide();$(".model_6_box").show()})}var hollowCircle={endpoint:["Dot",{cssClass:"endpointcssClass",radius:8}],paintStyle:{radius:5,stroke:"#666666"},isSource:true,connector:["Bezier",{curviness:63}],isTarget:true,maxConnections:-1,connectorStyle:connectorPaintStyle};var connectorPaintStyle={lineWidth:4,strokeStyle:"#61B7CF",joinstyle:"round",outlineColor:"white",outlineWidth:0};function init(c){var d;$("#select_sourceList").empty();$("#select_targetList").empty();var a=$("#"+c.sourceId).attr("id");var b=$("#"+c.targetId).attr("id");$("#submit_label").unbind("click");$("#submit_label").on("click",function(){setlabel(c)})}function setlabel(a){a.getOverlay("label").setLabel($("#select_sourceList").val()+" "+$("#select_comparison").val()+" "+$("#select_targetList").val());if($("#twoWay").val()=="true"){a.setParameter("twoWay",true)}else{a.setParameter("twoWay",false);a.hideOverlay("arrow_backwards")}}function removeElement(b){var a=$(b);if(confirm("确定删除该模型？")){instance.remove(a)}};